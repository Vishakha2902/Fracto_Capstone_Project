

<div class="mb-3">
  <h3>Doctors</h3>
</div>

<div *ngIf="loading" class="text-center my-5">
  <div class="spinner-border" role="status"></div>
</div>

<div *ngIf="error" class="alert alert-danger">{{ error }}</div>

<div class="row">
  <div class="col-md-4 mb-3" *ngFor="let d of doctors">
    <div class="card h-100">
      <!-- doctor image with fallback -->
      <img 
        [src]="'http://localhost:5002/images/' + (d.profileImagePath || 'doctor-c.png')" 
        class="card-img-top img-fluid" 
        alt="doctor image" 
        style="height:200px; width:100%; object-fit:contain; background:#f8f9fa; padding:5px;"
        (error)="onImgError($event)">

      <div class="card-body d-flex flex-column">
        <h5 class="card-title">{{ d.name }}</h5>
        <p class="mb-1">{{ d.specialization?.name || 'General' }}</p>
        <p class="text-muted mb-2">{{ d.city }}</p>
        <div class="mt-auto">
          <a [routerLink]="['/book', d.id]" class="btn btn-primary w-100">Book</a>
        </div>
      </div>
    </div>
  </div>
</div>


